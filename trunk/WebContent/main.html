<!DOCTYPE html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Canvas World 0.1 (alpha)</title>


<script id="vshader" type="x-shader/x-vertex">

    uniform mat4 u_modelViewMatrix;
    uniform mat4 u_projMatrix;
    uniform mat4 u_normalMatrix;
    uniform vec3 lightDir;

	//uniform mat4 u_cameraTranslationMatrix;

    attribute vec3 vNormal;
    attribute vec4 vColor;
    attribute vec4 vPosition;

    varying float v_Dot;
    varying vec4 v_Color;

    void main()
    {
		gl_Position =  u_projMatrix * u_modelViewMatrix * vPosition;
		//gl_Position =  u_projMatrix * u_cameraTranslationMatrix * u_modelViewMatrix * vPosition;
        v_Color = vColor;
        vec4 transNormal = u_normalMatrix * vec4(vNormal, 1);
		//mat4 test = transpose(u_cameraTranslationMatrix);
        v_Dot = max(dot(transNormal.xyz, lightDir), 0.0);
    }
</script>

<script id="fshader" type="x-shader/x-fragment">
#ifdef GL_ES
    precision mediump float;
#endif

    varying float v_Dot;
    varying vec4 v_Color;

    void main()
    {
        //gl_FragColor = vec4(v_Color.xyz * v_Dot, v_Color.a);
		//gl_FragColor = vec4(1, 0, 0, 1);  // Red
		gl_FragColor = vec4(v_Color.x* v_Dot,v_Color.y* v_Dot,v_Color.z* v_Dot, v_Color.a);
    }
</script>

<script src="js/Mjt.js"></script>

	

<style type="text/css">
canvas { /* border: 2px solid black; */
	
}

.text {
	position: absolute;
	top: 100px;
	left: 20px;
	font-size: 2em;
	color: black;
}
</style>
</head>

<body>
	<canvas id="mainCanvas">
    If you're seeing this your web browser doesn't support the &lt;canvas>&gt; element. Ouch!
</canvas>
	<div class="text">Canvas World 0.1 (alpha)</div>
	<div id="framerate"></div>
	<div id="cubeCount"></div>
	<button onclick="mjtWebGlToolkit.scene.addNextCubeset();">Boom!</button>
</body>

</html>
